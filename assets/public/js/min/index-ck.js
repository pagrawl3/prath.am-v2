$(document).ready(function(){var t=function(){$("#wrapper").css("opacity","1"),$("#loader").css("opacity","0")},o=function(){$("#wrapper").css("opacity","0"),$("#loader").css("opacity","1")},i=function(){var t=$(window).scrollTop();$("body").css("backgroundPosition","0px "+t*-.25+"px")},e=function(i){o(),$.get("/partials/"+i,function(o){setTimeout(function(){$("#wrapper").html(o),t()},200)})},n=function(t,o,i){$("#project-description").css({opacity:1,left:t,top:o,height:i-60}),$("#project-details").css({opacity:1,width:$("#project-description").width()+60+$("article.project").width()+10,left:t-$("article.project").width()-10,top:o+$("article.project").height()+10,"pointer-events":"auto"})},c=function(){$("#project-description").css("opacity","0"),$("#project-details").css({opacity:"0","pointer-events":"none"})},s=function(t,o,i){$(".bubble h4").html(i);var e=o-$(".bubble").height()-20,n=t-$(".bubble").width()/2+$("li.tech").width()/2;$(".bubble").css({opacity:1,top:e,left:n})},h=function(){setTimeout(function(){$(".bubble").css({opacity:0})},0)};socket=io.connect("/");var r=["projects","profile"],l=window.location.hash.slice(1,window.location.hash.length),p="index";$.each(r,function(t,o){l===o&&(p=o)}),e(p),$("html").on("click",".projects",function(){window.location.hash="projects",e("projects")}),$("html").on("click",".profile",function(){window.location.hash="profile",e("profile")}),$("html").on("click",".index",function(){window.location.hash="home",e("index")}),$("html").on("click",".show-info-wrapper",function(t){$(this).children(".show-info").trigger("click"),$(this).addClass("hide-info-wrapper"),$(this).removeClass("show-info-wrapper")}),$("html").on("click",".hide-info-wrapper",function(t){$(this).children(".hide-info").trigger("click"),$(this).addClass("show-info-wrapper"),$(this).removeClass("hide-info-wrapper")}),$("html").on("click",".show-info",function(t){t.stopPropagation();var o=$("#project-description").width()+60,i=$(t.target).parent("article.project"),e=$("body").width()/2,c=$("article.project").first().position().top,s=e-i.width()/2-o/2-8-i.position().left,h=c-i.position().top,r=$(this);$("article.project").css({opacity:"0",top:"-15px","pointer-events":"none"}),i.css({opacity:"1",left:s-6,top:h,"pointer-events":"auto"}),$("h1.title").html(r.html()),r.html("BACK"),r.addClass("hide-info"),r.removeClass("show-info"),setTimeout(function(){var t=i.position().left+i.width()+6+10,o=i.position().top+6,e=i.height();n(t,o,e)},300)}),$("html").on("click",".hide-info",function(t){t.stopPropagation(),$(this).removeClass("hide-info"),$(this).addClass("show-info"),$(this).html($("h1.title").html()),$("h1.title").html("PROJECTS"),c(),$("article.project").css({opacity:"1",top:"0",left:"0","pointer-events":"auto"})}),$("html").on("mouseenter","li.tech",function(){s($(this).offset().left,$(this).offset().top,$(this).attr("tech-name"))}),$("html").on("mouseleave","li.tech",function(){h()}),$(window).scroll(function(){i()}),window.addEventListener("hashchange",function(){""===window.location.hash&&window.location.reload()})});